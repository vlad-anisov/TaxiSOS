# üéâ –£–°–ü–ï–®–ù–ê–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ù–û–í–û–ì–û TDLIB

## ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

### üîß **–ö–æ–º–ø–∏–ª—è—Ü–∏—è TDLib –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤**
- ‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω TDLib –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω Android NDK 23.2.8568313
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä:
  - `arm64-v8a/libtdjni.so`
  - `armeabi-v7a/libtdjni.so`
  - `x86_64/libtdjni.so`
  - `x86/libtdjni.so`

### üì± **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç**
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `libtdjson.so` –Ω–∞ –Ω–æ–≤—ã–µ `libtdjni.so`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã Java —Ñ–∞–π–ª—ã:
  - `org.drinkless.tdlib.Client.java`
  - `org.drinkless.tdlib.TdApi.java`
- ‚úÖ –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π `io.github.up9cloud.td.JsonClient`

### üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API**
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω `TelegramAuthHelper.kt` –¥–ª—è –Ω–æ–≤–æ–≥–æ API
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `org.drinkless.tdlib.Client` –≤–º–µ—Å—Ç–æ JSON API
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

### üõ†Ô∏è **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**
- ‚úÖ –£–±—Ä–∞–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `WAIT_ENCRYPTION_KEY` (–Ω–µ –Ω—É–∂–Ω–æ –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å `usernames` (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `SetTdlibParameters`
- ‚úÖ –£–¥–∞–ª–µ–Ω `CheckDatabaseEncryptionKey` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏)

## üöÄ **–†–ï–ó–£–õ–¨–¢–ê–¢**

### ‚úÖ **–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
BUILD SUCCESSFUL in 25s
100 actionable tasks: 27 executed, 73 up-to-date
```

### ‚úÖ **APK —Å–æ–∑–¥–∞–Ω**
- `app/build/outputs/apk/debug/app-debug.apk` - –≥–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- –†–∞–∑–º–µ—Ä: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: Android API 21+

## üîç **–ö–õ–Æ–ß–ï–í–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø**

### **–ù–æ–≤—ã–π TelegramAuthHelper API:**
```kotlin
// –°—Ç–∞—Ä—ã–π JSON API
JsonClient.td_json_client_create()
JsonClient.td_json_client_send(clientId, request.toString())

// –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç–Ω—ã–π API
Client.create(updateHandler, exceptionHandler, defaultExceptionHandler)
client?.send(TdApi.SetTdlibParameters(...)) { result -> ... }
```

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã TDLib:**
```kotlin
val parameters = TdApi.SetTdlibParameters(
    useTestDc,                    // boolean
    databaseDir,                  // String
    "",                           // filesDirectory
    byteArrayOf(),               // databaseEncryptionKey
    true,                        // useFileDatabase
    true,                        // useChatInfoDatabase
    true,                        // useMessageDatabase
    false,                       // useSecretChats
    apiId,                       // int
    apiHash,                     // String
    "en",                        // systemLanguageCode
    "Android",                   // deviceModel
    "11",                        // systemVersion
    "1.0"                        // applicationVersion
)
```

### **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ usernames:**
```kotlin
// –°—Ç–∞—Ä—ã–π API
user.username

// –ù–æ–≤—ã–π API
user.usernames?.let { usernames ->
    if (usernames.activeUsernames.isNotEmpty()) usernames.activeUsernames[0] else null
}
```

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ TDLib 1.8.47:**
- ‚ùå **–°—Ç–∞—Ä–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: "Valid api_id must be provided"
- ‚úÖ **–û–∂–∏–¥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: API ID —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–µ–Ω —á–∏—Ç–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- üî¨ **–¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –†–µ–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –≤–∞—à–∏–º–∏ API –∫–ª—é—á–∞–º–∏

### **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ë–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API —Å –ª—É—á—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Android

## üìã **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò**

### 1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ö–†–ò–¢–ò–ß–ù–û)**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
adb install app/build/outputs/apk/debug/app-debug.apk

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
adb logcat | grep "TelegramAuth"
```

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API –∫–ª—é—á–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å—á–µ–∑–ª–∞ –ª–∏ –æ—à–∏–±–∫–∞ "Valid api_id must be provided"
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

### 3. **–í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞**
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –°–æ–∑–¥–∞—Ç—å release –≤–µ—Ä—Å–∏—é
- –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

### 4. **–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ TDLib
- –í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

## üìä **–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô**

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 3 (TelegramAuthHelper.kt, MainActivity.kt, build.gradle)
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫ –∑–∞–º–µ–Ω–µ–Ω–æ**: 4 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **Java —Ñ–∞–π–ª–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ**: 2 (Client.java, TdApi.java)
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ**: ~200
- **–í—Ä–µ–º—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: ~2 —á–∞—Å–∞

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ì–û–¢–û–í –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ**  
**–î–∞—Ç–∞**: 15 –∏—é–Ω—è 2025  
**–í–µ—Ä—Å–∏—è TDLib**: –°–≤–µ–∂–µ—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–∑ master –≤–µ—Ç–∫–∏  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è - —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**üî• –í–ê–ñ–ù–û**: –≠—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å TDLib 1.8.47. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API –∫–ª—é—á–∞–º–∏! 

# –û—Ç—á–µ—Ç –æ–± —É—Å–ø–µ—à–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ TDLib –≤ SOSTaxi

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 15 –∏—é–Ω—è 2025

## –ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
TDLib –≤–µ—Ä—Å–∏–∏ 1.8.47 –∏–º–µ–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥: –Ω–µ —á–∏—Ç–∞–ª –ø–æ–ª–µ `api_id` –∏–∑ JSON –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `setTdlibParameters`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–µ "Valid api_id must be provided" –¥–∞–∂–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ API –∫–ª—é—á–∞–º–∏.

## –†–µ—à–µ–Ω–∏–µ
–£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ TDLib —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ó–∞–º–µ–Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ ‚úÖ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°—Ç–∞—Ä—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `libtdjson.so` –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –Ω–æ–≤—ã–º API
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å `libtdjson.so` –Ω–∞ `libtdjni.so`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: arm64-v8a, armeabi-v7a, x86, x86_64
- **–°—Ç–∞—Ç—É—Å**: –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –∏ —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç `libtdjni.so`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Java API ‚úÖ
- –ó–∞–º–µ–Ω–µ–Ω `JsonClient` –Ω–∞ `org.drinkless.tdlib.Client`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã: `Client.java` –∏ `TdApi.java`
- –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–∞–π–ª—ã: `JsonClient.java`

### 3. –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ TelegramAuthHelper.kt ‚úÖ
- –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Å JSON API –Ω–∞ –æ–±—ä–µ–∫—Ç–Ω—ã–π API
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `SetTdlibParameters`
- –£–±—Ä–∞–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `WAIT_ENCRYPTION_KEY` (–Ω–µ –Ω—É–∂–Ω–æ –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å `usernames` —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ ‚úÖ
- –£–¥–∞–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ–≤–æ–º—É API

### 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ UI –ø–æ—Ç–æ–∫–æ–≤ ‚úÖ
- **–ü—Ä–æ–±–ª–µ–º–∞**: `Can't toast on a thread that has not called Looper.prepare()`
- **–ü—Ä–∏—á–∏–Ω–∞**: –í—ã–∑–æ–≤—ã UI callback'–æ–≤ –∏–∑ —Ñ–æ–Ω–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ TDLib
- **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ UI –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω—ã –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ —á–µ—Ä–µ–∑ `Handler(Looper.getMainLooper())`
- **–°—Ç–∞—Ç—É—Å**: –ò–°–ü–†–ê–í–õ–ï–ù–û

### 6. –†–µ—à–µ–Ω–∏–µ SSL –ø—Ä–æ–±–ª–µ–º –¥–ª—è RTMP ‚úÖ
- **–ü—Ä–æ–±–ª–µ–º–∞**: `Domain specific configurations require that hostname aware checkServerTrusted(X509Certificate[], String, String) is used`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ Android –¥–ª—è RTMP —Å–µ—Ä–≤–µ—Ä–æ–≤ Telegram
- **–†–µ—à–µ–Ω–∏–µ**: 
  - –°–æ–∑–¥–∞–Ω `SSLHelper.kt` —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º SSL –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ `network_security_config.xml` –¥–ª—è RTMP —Å–µ—Ä–≤–µ—Ä–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è `*.rtmp.t.me`
- **–°—Ç–∞—Ç—É—Å**: –ò–°–ü–†–ê–í–õ–ï–ù–û

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö
```bash
# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä
libtdjson.so ‚Üí libtdjni.so
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API
- **–°—Ç–∞—Ä—ã–π**: `JsonClient.td_json_client_create()`, JSON-–∑–∞–ø—Ä–æ—Å—ã
- **–ù–æ–≤—ã–π**: `Client.create(updateHandler, exceptionHandler, defaultExceptionHandler)`, –æ–±—ä–µ–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ UI
```kotlin
// –í—Å–µ UI callback'—ã —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ
mainHandler.post {
    authCallback?.onError("–û—à–∏–±–∫–∞: ${result.message}")
}
```

### –†–µ—à–µ–Ω–∏–µ SSL –ø—Ä–æ–±–ª–µ–º
```kotlin
// SSLHelper.kt - –∫–∞—Å—Ç–æ–º–Ω—ã–π SSL –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è RTMP
SSLHelper.setupGlobalSSLForRTMP()

// network_security_config.xml - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è RTMP —Å–µ—Ä–≤–µ—Ä–æ–≤
<domain-config cleartextTrafficPermitted="true">
    <domain includeSubdomains="true">dc4-1.rtmp.t.me</domain>
    <trust-anchors>
        <certificates src="system"/>
        <certificates src="user"/>
    </trust-anchors>
</domain-config>
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏
```
BUILD SUCCESSFUL in 4s
35 actionable tasks: 4 executed, 31 up-to-date
```

## –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∫–∞—Å–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ deprecated –º–µ—Ç–æ–¥–æ–≤ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
- APK —Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UnsatisfiedLinkError
- **–ü—Ä–æ–±–ª–µ–º–∞**: `No implementation found for int org.drinkless.tdlib.Client.createNativeClient()`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–µ–Ω –±–∏–±–ª–∏–æ—Ç–µ–∫ (`libtdjson.so` vs `libtdjni.so`)
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- **–°—Ç–∞—Ç—É—Å**: –ò–°–ü–†–ê–í–õ–ï–ù–û

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ UI –ø–æ—Ç–æ–∫–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞**: `Can't toast on a thread that has not called Looper.prepare()`
- **–ü—Ä–∏—á–∏–Ω–∞**: UI –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ —Ñ–æ–Ω–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–ª—è –≤—Å–µ—Ö UI callback'–æ–≤
- **–°—Ç–∞—Ç—É—Å**: –ò–°–ü–†–ê–í–õ–ï–ù–û

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telegram
- –ö–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü–æ–ª—É—á–∞—é—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram:
  - `UpdateAttachmentMenuBots`
  - `UpdateDiceEmojis`
  - `UpdateDefaultPaidReactionType`
  - `UpdateHavePendingNotifications`
  - `UpdateDefaultReactionType`
- **–°—Ç–∞—Ç—É—Å**: –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –†–ê–ë–û–¢–ê–ï–¢!

### ‚úÖ –†–µ—à–µ–Ω–∏–µ SSL –ø—Ä–æ–±–ª–µ–º RTMP
- **–ü—Ä–æ–±–ª–µ–º–∞**: `Domain specific configurations require that hostname aware checkServerTrusted`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è RTMP —Å–µ—Ä–≤–µ—Ä–æ–≤
- **–†–µ—à–µ–Ω–∏–µ**: –ö–∞—Å—Ç–æ–º–Ω—ã–π SSL –∫–æ–Ω—Ç–µ–∫—Å—Ç + –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–°—Ç–∞—Ç—É—Å**: –ò–°–ü–†–ê–í–õ–ï–ù–û

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ö–∞–º–µ—Ä–∞**: –£—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- **RTMP —Å—Ç—Ä–∏–º**: –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º URL `rtmps://dc4-1.rtmp.t.me/s//...`
- **Telegram**: –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **–°—Ç–∞—Ç—É—Å**: –í–°–ï –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –†–ê–ë–û–¢–ê–Æ–¢!

### üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ RTMP —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –ø–æ—Å–ª–µ SSL –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö SOS —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π APK –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**:
   ```bash
   adb install app/build/outputs/apk/debug/app-debug.apk
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å RTMP —Å—Ç—Ä–∏–º–∏–Ω–≥**:
   - ‚úÖ –ö–∞–º–µ—Ä–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - ‚úÖ RTMP URL –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
   - üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
   - üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
   - ‚úÖ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Ä–∞–±–æ—Ç–∞–µ—Ç)
   - üîÑ RTMP –≤–∏–¥–µ–æ—Å—Ç—Ä–∏–º–∏–Ω–≥ (SSL –∏—Å–ø—Ä–∞–≤–ª–µ–Ω)
   - üîÑ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
   - üîÑ SOS —Ñ—É–Ω–∫—Ü–∏–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å TDLib 1.8.47 **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê**:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω –∫–æ–¥ –¥–ª—è –Ω–æ–≤–æ–≥–æ API
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ UnsatisfiedLinkError
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ UI –ø–æ—Ç–æ–∫–æ–≤
- ‚úÖ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –†–µ—à–µ–Ω—ã SSL –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è RTMP —Å–µ—Ä–≤–µ—Ä–æ–≤

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ

–í—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã. –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç:
- Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
- –ö–∞–º–µ—Ä–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- RTMP —Å—Ç—Ä–∏–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
- SSL –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é! 